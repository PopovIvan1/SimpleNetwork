@using Microsoft.AspNet.Identity
@using System.Data.Entity;
@using SimpleNetwork.Models
@{
    ViewBag.Title = "GetInfo";
}

@using (Html.BeginForm("MyActionAsync", "Account"))
{
    <button class="btn btn-danger" type="submit" name="submitButton" value="deleteButton"><span class="glyphicon glyphicon-trash"></span>  Удалить</button>
    <button class="btn btn-primary" type="submit" name="submitButton" value="lockButton"><span class="glyphicon glyphicon-lock"></span>  Заблокировать</button>
    <button class="btn btn-primary" type="submit" name="submitButton" value="unlockButton"><span class="glyphicon glyphicon-ok"></span>  Разблокировать</button>
    <h2>Список пользователей</h2>
    <table class="table" id="myTable">
        <tr>
            <th><label class="form-check-input"><input type="checkbox" id="checkbox"> Выделить все/Снять выделение</label></th>
            <th>Id</th>
            <th>Имя</th>
            <th>Почта</th>
            <th>Дата регистрации</th>
            <th>Дата логина</th>
            <th>Статус блокировки</th>
        </tr>
        @foreach (var data in ViewData.Model)
        {
            <tr>
                <td><input type="checkbox" name="selectedUsers" value=@data.Id></td>
                <td>@data.Id</td>
                <td>@data.UserName</td>
                <td>@data.Email</td>
                <td>@data.RegistrationDate</td>
                <td>@data.LastLoginDate</td>
                <td>@data.StatusBlock</td>
            </tr>
        }
    </table>
}
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script>
    $('#checkbox').click(function () {
        if ($(this).is(':checked')) {
            $('#myTable input:checkbox').prop('checked', true);
        } else {
            $('#myTable input:checkbox').prop('checked', false);
        }
    });
</script>